# Depends on:
#  gcc-libs (libgcc, libstdc++?), libiconv
# Optional depends:
#  pthreads | pth, ncurses, termcap, bzip2, xz, expat | libxml2, libacl, libunistring, libcroco

# FIXME: needs built twice in order to link to internal libintl
# FIXME: enable xz support

# Update available: 0.20.1 (produces segfaulting executables)

DEPENDS=(glib bzip2 libcroco)

VER="0.19.8.1"
DNAME="${NAME}-${VER}"
FNAME="${DNAME}.tar.xz"
SOURCE="https://ftp.gnu.org/pub/gnu/gettext/${FNAME}"
CPPFLAGS="-DLIBXML_STATIC"

export WANT_AUTOMAKE=latest
post_extract() {
	libtoolize --automake --copy --force
	./autogen.sh --skip-gnulib
}

CONFIG_OPTS=(
	--enable-relocatable
	--disable-curses
	--disable-java
	--disable-native-java
	--disable-csharp
	--disable-openmp
	--with-included-regex
	--with-included-libunistring
	--without-xz
	--without-emacs
	--without-cvs
	--without-git
)
