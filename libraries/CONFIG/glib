# Depends on:
#  gettext, libiconv, libffi
# Optional depends
#  libmount (util-linux), pcre, pthreads

# Update available (not compatible with current patches): 2.61.2

# FIXME:
#  - linking to libintl (required?)

DEPENDS=(libffi)
if ${OS_WIN}; then
	DEPENDS+=(winpthreads)
fi

VER="2.60.4"
DNAME="${NAME}-${VER}"
FNAME="${DNAME}.tar.xz"
SOURCE="https://download.gnome.org/sources/glib/${VER%.*}/${FNAME}"
CMD_CONFIG=(meson)
CMD_BUILD=(ninja)
CMD_INSTALL=(ninja install)

CONFIG_OPTS=(
	-Dinstalled_tests=false
	-Dforce_posix_threads=true
	-Dinternal_pcre=true
)
